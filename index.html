<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>New Project</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=DM+Sans:ital,opsz,wght@0,9..40,100..1000;1,9..40,100..1000&display=swap" rel="stylesheet">
</head>
<body>
    
    
    <div id="container-wrapper">
        <div class="yellow-container">
            <h1>Jag visste inte att jag hade så<br>många gula saker</h1>
        </div>

        <div class="main-container parallax-item">
            <div id="title">
                <h1>Jag visste inte att jag hade så många gula saker</h1>
                <hr>
            </div>
            <div class="containers-wrapper">
                <div id="left-container">
                    <div id="buttons-container">
                        <div id="buttons-left">
                            <p>Visa som</p>
                            <button>Bild</button>
                            <button>Färg</button>
                        </div>
                        <div id="buttons-right">
                            <p>Sortera efter</p>
                            <button id="sort-name">Namn</button>
                            <button id="sort-color">Färg</button>
                            <button id="sort-happiness">Lycka</button>
                        </div>
                </div>
                    <div id="thumbnails" class="parallax-item">
                        <div class="thumbnail thumbnail-1" data-name="Anteckningsblock.png" data-color="33" data-happiness="0"><img src="./Anteckningsblock.png" alt="Ett anteckningsblock från mitt livs värsta arbetsplats."></div>
                        <div class="thumbnail thumbnail-2" data-name="aprikosagat2.png" data-color="39" data-happiness="43"><img src="./aprikosagat2.png" alt="Aprikosagat. Inte min favoritsten."></div>
                        <div class="thumbnail thumbnail-3" data-name="cif2.png" data-color="2" data-happiness="58"><img src="./cif2.png" alt="Ella lånade ut sin cif till mig när jag flyttade in. Dagen efter köpte jag en egen."></div>
                        <div class="thumbnail thumbnail-4" data-name="Converse.png" data-color="36" data-happiness="99"><img src="./Converse.png" alt="Mina converse. När de åker fram är våren kommen."></div>
                        <div class="thumbnail thumbnail-5" data-name="gardiner2.png" data-color="23" data-happiness="98"><img src="./gardiner2.png" alt="Mina gardiner. När solen skiner blir hela rummet gult."></div>
                        <div class="thumbnail thumbnail-6" data-name="halsduk.png" data-color="38" data-happiness="92"><img src="./halsduk.png" alt="Halsduk. Den gör mig lätt att hitta."></div>
                        <div class="thumbnail thumbnail-7" data-name="kzkshandduk_kryp.png" data-color="1" data-happiness="87"><img src="./kzkshandduk_kryp.png" alt="Kökshandduk med kryp som jag köpte till mig
                            själv i en liten affär i Gamla Stan."></div>
                        <div class="thumbnail thumbnail-8" data-name="jaffa.png" data-color="40" data-happiness="71"><img src="./jaffa.png" alt="Jaffa, en finsk läsk jag sparar till en riktigt, riktigt dålig dag. HP+20."></div>
                        <div class="thumbnail thumbnail-9" data-name="luvtroja_kevins.png" data-color="20" data-happiness="91"><img src="./luvtroja_kevins.png" alt="Kevins luvtröja. Lånad på obestämd tid."></div>
                        <div class="thumbnail thumbnail-10" data-name="marabou2.png" data-color="3" data-happiness="70"><img src="./marabou2.png" alt="Marabou Daim. Köpes främst när jag börjar bli trött på projektet jag jobbar med och behöver en belöning."></div>
                        <div class="thumbnail thumbnail-11" data-name="matlada.png" data-color="5" data-happiness="54"><img src="./matlada.png" alt="Matlåda. Innehåller ibland teriyakilax."></div>
                        <div class="thumbnail thumbnail-12" data-name="osthyvel.png" data-color="29" data-happiness="63"><img src="./osthyvel.png" alt="Osthyvel"></div>
                        <div class="thumbnail thumbnail-13" data-name="ryggsack.png" data-color="19" data-happiness="100"><img src="./ryggsack.png" alt="Ryggsack"></div>
                        <div class="thumbnail thumbnail-14" data-name="sax.png" data-color="4" data-happiness="73"><img src="./sax.png" alt="Sax"></div>
                        <div class="thumbnail thumbnail-15" data-name="skzl.png" data-color="21" data-happiness="89"><img src="./skzl.png" alt="Skål"></div>
                        <div class="thumbnail thumbnail-16" data-name="svamp_2.png" data-color="22" data-happiness="5"><img src="./svamp_2.png" alt="Svamp"></div>
                        <div class="thumbnail thumbnail-17" data-name="tacochips.png" data-color="14" data-happiness="57"><img src="./tacochips.png" alt="Tacochips"></div>
                        <div class="thumbnail thumbnail-18" data-name="tejp.png" data-color="28" data-happiness="28"><img src="./tejp.png" alt="Tejp"></div>
                        <div class="thumbnail thumbnail-19" data-name="trocazero.png" data-color="10" data-happiness="16"><img src="./trocazero.png" alt="Trocazero"></div>
                        <div class="thumbnail thumbnail-20" data-name="ugnsform.png" data-color="37" data-happiness="88"><img src="./ugnsform.png" alt="Ugnsform"></div>

                        <div class="thumbnail thumbnail-21" data-name="TavlaKevin_f1bd63_Happiness83.png" data-color="19" data-happiness="83"><img src="./TavlaKevin_f1bd63_Happiness83.png" alt=""></div>
                        <div class="thumbnail thumbnail-22" data-name="Vas2_fbc82a_Happiness74.png" data-color="11" data-happiness="74"><img src="./Vas2_fbc82a_Happiness74.png" alt=""></div>
                        <div class="thumbnail thumbnail-23" data-name="duschdraperi_e9cd93_Happiness95.png" data-color="12" data-happiness="95"><img src="./duschdraperi_e9cd93_Happiness95.png" alt=""></div>
                        <div class="thumbnail thumbnail-24" data-name="duschtval_ffc412_Happiness81.png" data-color="13" data-happiness="81"><img src="./duschtval_ffc412_Happiness81.png" alt=""></div>
                        <div class="thumbnail thumbnail-25" data-name="handduk_f0a719_Happiness94.png" data-color="34" data-happiness="94"><img src="./handduk_f0a719_Happiness94.png" alt=""></div>
                        <div class="thumbnail thumbnail-26" data-name="iskaffe_fda611_Happiness75.png" data-color="32" data-happiness="75"><img src="./iskaffe_fda611_Happiness75.png" alt=""></div>
                        <div class="thumbnail thumbnail-27" data-name="kuddestjarna_ffae14_Happiness93.png" data-color="24" data-happiness="93"><img src="./kuddestjarna_ffae14_Happiness93.png" alt=""></div>
                        <div class="thumbnail thumbnail-28" data-name="kuddestor_f7b000_Happiness96.png" data-color="31" data-happiness="96"><img src="./kuddestor_f7b000_Happiness96.png" alt=""></div>
                        <div class="thumbnail thumbnail-29" data-name="ljushallare_febd0f_Happiness86.png" data-color="18" data-happiness="86"><img src="./ljushallare_febd0f_Happiness86.png" alt=""></div>
                        <div class="thumbnail thumbnail-30" data-name="luvtrojautantryck_ffaf15_Happiness79.png" data-color="25" data-happiness="79"><img src="./luvtrojautantryck_ffaf15_Happiness79.png" alt=""></div>
                        <div class="thumbnail thumbnail-31" data-name="marimekko_facc5e_Happiness84.png" data-color="8" data-happiness="84"><img src="./marimekko_facc5e_Happiness84.png" alt=""></div>
                        <div class="thumbnail thumbnail-32" data-name="muminmugg_fac13d_Happiness85.png" data-color="15" data-happiness="85"><img src="./muminmugg_fac13d_Happiness85.png" alt=""></div>
                        <div class="thumbnail thumbnail-33" data-name="planbok_efa410_Happiness97.png" data-color="35" data-happiness="97"><img src="./planbok_efa410_Happiness97.png" alt=""></div>
                        <div class="thumbnail thumbnail-34" data-name="print_feb012_Happiness82.png" data-color="26" data-happiness="82"><img src="./print_feb012_Happiness82.png" alt=""></div>
                        <div class="thumbnail thumbnail-35" data-name="skissblock_f7c310_Happiness76.png" data-color="17" data-happiness="76"><img src="./skissblock_f7c310_Happiness76.png" alt=""></div>
                        <div class="thumbnail thumbnail-36" data-name="skivspelare_ffcb03_Happiness80.png" data-color="9" data-happiness="80"><img src="./skivspelare_ffcb03_Happiness80.png" alt=""></div>
                        <div class="thumbnail thumbnail-37" data-name="skrivbordslampa_ffce0f_Happiness77.png" data-color="7" data-happiness="77"><img src="./skrivbordslampa_ffce0f_Happiness77.png" alt=""></div>
                        <div class="thumbnail thumbnail-38" data-name="stolsdyna_f8cb3b_Happiness78.png" data-color="10" data-happiness="78"><img src="./stolsdyna_f8cb3b_Happiness78.png" alt=""></div>
                        <div class="thumbnail thumbnail-39" data-name="troja1_fdaa19_Happiness72.png" data-color="30" data-happiness="72"><img src="./troja1_fdaa19_Happiness72.png" alt=""></div>
                        <div class="thumbnail thumbnail-40" data-name="vas1_fbd21b_Happiness90.png" data-color="6" data-happiness="90"><img src="./vas1_fbd21b_Happiness90.png" alt=""></div>

                    </div>
                </div>
                <div id="right-container" class="parallax-item">
                    <div id="large-image">
                        <img id="current-image" src="ryggsack.png" alt="Large Image" />
                    </div>
                    <div id="bottom-container">
                        <p id="description">En ryggsäck jag fick i present från Kevin när jag fick reda på att jag kommit in på Beckmans.</p>
                    
                    <div id="healthcontainer">
                        <p>Lycka:</p>
                     <div id="health-bar-container">
                        
                            <div id="health-bar" data-happiness="100%"></div> <!-- Initial value can be set to 0 -->
                        </div> <!-- Initial value can be set to 0 -->
                    </div>
                </div>
            </div>
        </div>

        <script>
            document.addEventListener('DOMContentLoaded', function() {
                const thumbnails = document.querySelectorAll('.thumbnail');
                const currentImage = document.getElementById('current-image');
                const largeImageContainer = document.getElementById('large-image');
                const bildButton = document.querySelector('#buttons-left button:first-of-type');
                const fargButton = document.querySelector('#buttons-left button:last-of-type');
                const healthBar = document.getElementById('health-bar');
                const description = document.getElementById('description'); // Reference to the description paragraph

                const descriptions = {
        "anteckningsblock.png": "Ett <span class='lightBold'>anteckningsblock</span> från mitt livs värsta arbetsplats.",
        "aprikosagat2.png": "<span class='lightBold'>Aprikosagat</span>. Inte min favoritsten.",
        "cif2.png": "Ella lånade ut sin <span class='lightBold'>cif</span> till mig när jag flyttade in. Dagen efter köpte jag en egen.",
        "Converse.png": "Mina <span class='lightBold'>converse</span>. När de åker fram är våren kommen.",
        "gardiner2.png": "Mina <span class='lightBold'>gardiner</span>. När solen skiner blir hela rummet gult.",
        "halsduk.png": "<span class='lightBold'>Halsduk</span>. Den gör mig lätt att hitta.",
        "kzkshandduk_kryp.png": "<span class='lightBold'>Kökshandduk</span> med kryp som jag köpte till mig själv i en liten affär i Gamla Stan.",
        "jaffa.png": "<span class='lightBold'>Jaffa</span>, en finsk läsk jag sparar till en riktigt, riktigt dålig dag. HP+20.",
        "luvtroja_kevins.png": "Kevins <span class='lightBold'>luvtröja</span>. Lånad på obestämd tid.",
        "marabou2.png": "<span class='lightBold'>Marabou Daim</span>. Köpes främst när jag börjar bli trött på projektet jag jobbar med och behöver en belöning.",
        "matlada.png": "<span class='lightBold'>Matlåda</span>. Innehåller ibland teriyakilax",
        "osthyvel.png": "<span class='lightBold'>Osthyvel</span> från tiden då man hade råd att köpa ost.",
        "ryggsack.png": "En <span class='lightBold'>ryggsäck</span> jag fick i present från Kevin när jag fick reda på att jag kommit in på Beckmans.",
        "sax.png": "<span class='lightBold'>Sax</span>. Klipper bra.",
        "skzl.png": "<span class='lightBold'>Skål</span> jag brukar ha på min plats i skolan. Mest krimskrams i den.",
        "svamp_2.png": "En <span class='lightBold'>kökssvamp</span> på sina sista dar.",
        "tacochips.png": "<span class='lightBold'>Tacochips</span>. Nödmiddag.",
        "tejp.png": "<span class='lightBold'>Tejprulle</span> som jag haft sedan mina folkisdagar. Den tar aldrig slut?!",
        "trocazero.png": "<span class='lightBold'>Trocadero Zero</span>. Förlåt.",
        "ugnsform.png": "En <span class='lightBold'>ugnsform</span> jag fick av mamma. Den använder jag till att laga teriyakilax.",
        "TavlaKevin_f1bd63_Happiness83.png": "En tavla som Kevin målat. Den hänger i vårt vardagsrum i Eskilstuna.",
        "Vas2_fbc82a_Happiness74.png": "Inte den bästa vasen jag äger.",
        "duschdraperi_e9cd93_Happiness95.png": "Duschdraperiet adderar väldigt mycket gult till mitt badrum.",
        "duschtval_ffc412_Happiness81.png": "Som att hälla pumpkin spice latte över sig själv i duschen.",
        "handduk_f0a719_Happiness94.png": "Ganska stor handduk.",
        "iskaffe_fda611_Happiness75.png": "Ungefär som att tjuvkoppla min hjärna på morgonen.",
        "kuddestjarna_ffae14_Happiness93.png": "Stjärnformad kudde som jag fått av Kevin.",
        "kuddestor_f7b000_Happiness96.png": "STOR gul kudde.",
        "ljushallare_febd0f_Happiness86.png": "Ljushållare. Mest vaniljdoftande ljus i den.",
        "luvtrojautantryck_ffaf15_Happiness79.png": "Varm och gosig luvtröja.",
        "marimekko_facc5e_Happiness84.png": "Marimekko Skooli i gult. Brukade ha två, innan Gomez sparkade ner den andra från fönsterbrädan.",
        "muminmugg_fac13d_Happiness85.png": "Muminmamma på muminmugg.",
        "planbok_efa410_Happiness97.png": "Plånbok med enorma mängder pengar.",
        "print_feb012_Happiness82.png": "Print från mina folkisdagar. Hänger i hallen i Stockholm.",
        "skissblock_f7c310_Happiness76.png": "Skissblock. Tomt än så länge. Present från Kevin.",
        "skivspelare_ffcb03_Happiness80.png": "Skivspelare som är ganska krånglig att få igång.",
        "skrivbordslampa_ffce0f_Happiness77.png": "Skrivbordslampa som lyser upp i mörkret.",
        "stolsdyna_f8cb3b_Happiness78.png": "Något gult att sitta på i köket.",
        "troja1_fdaa19_Happiness72.png": "Tröja.",
        "vas1_fbd21b_Happiness90.png": "Den bästa vasen jag äger."
};

                // Set initial state
                bildButton.classList.add('active');
                document.getElementById('thumbnails').classList.remove('color-view');

                // Set initial health bar width based on data-happiness
                const initialHappiness = healthBar.getAttribute('data-happiness');
                healthBar.style.width = initialHappiness; // Set the width of the health bar

                // Bild button click handler
                bildButton.addEventListener('click', function() {
                    document.getElementById('thumbnails').classList.remove('color-view');
                    bildButton.classList.add('active');
                    fargButton.classList.remove('active');
                    
                    // Make all thumbnails visible immediately when button is clicked
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.add('visible');
                    });
                });

                // Färg button click handler
                fargButton.addEventListener('click', function() {
                    document.getElementById('thumbnails').classList.add('color-view');
                    fargButton.classList.add('active');
                    bildButton.classList.remove('active');
                    
                    // Make all thumbnails visible immediately when button is clicked
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.add('visible');
                    });
                });

                // Thumbnail click handler
                thumbnails.forEach(thumbnail => {
                    thumbnail.addEventListener('click', function() {
                        const imageName = this.getAttribute('data-name');
                        const imagePath = imageName.includes('_Happiness') ? './' + imageName : imageName;
                        currentImage.src = imagePath;

                        // Set data attribute for active thumbnail
                        const container = document.getElementById('large-image');
                        if (this.classList.contains('thumbnail-5')) {
                            container.setAttribute('data-active-thumbnail', '5');
                        } else if (this.classList.contains('thumbnail-23')) {
                            container.setAttribute('data-active-thumbnail', '23');
                        } else {
                            container.setAttribute('data-active-thumbnail', '0');
                        }

                        // Remove existing styles from the large image
                        largeImageContainer.className = ''; // Clear existing classes

                        // Add the corresponding style class to the large image
                        const styleClass = this.className.split(' ').find(cls => cls.startsWith('thumbnail-'));
                        if (styleClass) {
                            largeImageContainer.classList.add(styleClass); // Add the style class
                        }

                        // Update the health bar based on data-happiness
                        const happinessValue = this.getAttribute('data-happiness'); // Get the happiness value
                        healthBar.style.width = happinessValue + '%'; // Set the width of the health bar
                        healthBar.setAttribute('data-happiness', happinessValue); // Update the data attribute

                        // Update the description based on the clicked thumbnail
                        const descriptionText = descriptions[imageName] || "Ingen beskrivning tillgänglig."; // Fallback text
                        description.innerHTML = descriptionText; // Set the inner HTML of the description
                    });
                });

                // Sorting functionality
                document.getElementById('sort-name').addEventListener('click', function() {
                    sortThumbnails('name');
                    // Make all thumbnails visible immediately when sorting
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.add('visible');
                    });
                });

                document.getElementById('sort-color').addEventListener('click', function() {
                    sortThumbnails('color');
                    // Make all thumbnails visible immediately when sorting
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.add('visible');
                    });
                });

                document.getElementById('sort-happiness').addEventListener('click', function() {
                    sortThumbnails('happiness');
                    // Make all thumbnails visible immediately when sorting
                    document.querySelectorAll('.thumbnail').forEach(thumb => {
                        thumb.classList.add('visible');
                    });
                });

                function sortThumbnails(criteria) {
                    const thumbnailsArray = Array.from(document.querySelectorAll('#thumbnails .thumbnail'));
                    
                    thumbnailsArray.sort((a, b) => {
                        if (criteria === 'name') {
                            return a.getAttribute('data-name').localeCompare(b.getAttribute('data-name'));
                        } else if (criteria === 'color') {
                            return Number(a.getAttribute('data-color')) - Number(b.getAttribute('data-color'));
                        } else if (criteria === 'happiness') {
                            return Number(b.getAttribute('data-happiness')) - Number(a.getAttribute('data-happiness'));
                        }
                    });

                    const thumbnailsContainer = document.getElementById('thumbnails');
                    thumbnailsArray.forEach(thumbnail => thumbnailsContainer.appendChild(thumbnail));
                }
            });
        </script>

        <script>
            // Parallax scrolling effect
            document.addEventListener('DOMContentLoaded', function() {
                const parallaxItems = document.querySelectorAll('.parallax-item');
                const thumbnails = document.querySelectorAll('.thumbnail');
                
                // Check if element is in viewport
                function isInViewport(element) {
                    const rect = element.getBoundingClientRect();
                    return (
                        rect.top <= (window.innerHeight || document.documentElement.clientHeight) * 0.85 &&
                        rect.bottom >= 0
                    );
                }
                
                // Handle scroll event to add visible class
                function handleScroll() {
                    // Check main container elements
                    parallaxItems.forEach(item => {
                        if (isInViewport(item) && !item.classList.contains('visible')) {
                            item.classList.add('visible');
                        }
                    });
                    
                    // Check thumbnails for staggered effect
                    // Only apply parallax to thumbnails if they haven't been affected by button clicks
                    if (!window.thumbnailsForceVisible) {
                        thumbnails.forEach((thumbnail, index) => {
                            if (isInViewport(thumbnail) && !thumbnail.classList.contains('visible')) {
                                // Add a small delay based on index for staggered appearance
                                setTimeout(() => {
                                    thumbnail.classList.add('visible');
                                }, Math.min(index * 30, 500)); // Cap the maximum delay at 500ms
                            }
                        });
                    }
                }
                
                // Set a flag to track if buttons have been clicked
                window.thumbnailsForceVisible = false;
                
                // Add event listeners to all buttons to set the flag
                document.querySelectorAll('button').forEach(button => {
                    button.addEventListener('click', function() {
                        window.thumbnailsForceVisible = true;
                    });
                });
                
                // Initial check on page load
                setTimeout(function() {
                    // Make all thumbnails initially visible if they're in the viewport
                    thumbnails.forEach(thumbnail => {
                        if (isInViewport(thumbnail)) {
                            thumbnail.classList.add('visible');
                        }
                    });
                    
                    handleScroll();
                }, 100); // Small delay to ensure DOM is fully loaded
                
                // Add scroll event listener
                window.addEventListener('scroll', handleScroll);
            });
        </script>
    </body>
    </html>
